---
sidebar: sidebar 
permalink: concepts/sla-performance.html 
keywords: sustainability, sla, service level agreement, slo, service level objectives 
summary: Keystone は、消費された容量をバースト制限までKeystone の注文書で規定されているとおり、パフォーマンス サービス レベルごとにレイテンシ ベースの SLO を提供します。 
---
= パフォーマンスSLO
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
NetApp Keystone は、 Keystone の注文書に記載されているとおり、バースト制限までの消費容量に対して、以下の利用規約に従い、パフォーマンス サービス レベルごとにレイテンシベースの SLO を提供します。



== メトリクス

* *パフォーマンス低下*: 90 パーセンタイルのレイテンシ目標が満たされていない、インシデントあたりの時間 (分単位)。
* *90 パーセンタイル レイテンシ* は、 Keystoneオーダー内のすべてのボリュームについて、ボリュームごと、パフォーマンス レベルごとに測定されます。レイテンシは 5 分ごとにサンプリングされ、次の点を考慮して、24 時間にわたって計算された 90 パーセンタイル値が毎日の測定値として使用されます。
+
** メトリック収集時に少なくとも 5 つの IOPS を記録するボリュームがサンプルとして考慮されます。
** メトリック収集時に書き込み操作が 30% を超えるボリュームはサンプルから除外されます。
** 要求された IOPS/TiB がターゲット IOPS/TiB よりも大きい場合、AQoS によって追加されたレイテンシはサンプルから除外されます。
** ボリュームあたりの最小 IOPS を維持するために AQoS によって追加されるレイテンシは、サンプルから除外されます。
** FabricPool が有効になっているボリュームの場合、ターゲット (コールド) ストレージとの間のデータ転送によって発生する遅延はカウントされません。
** ONTAPクラスタ外部のアプリケーション、ホスト、または顧客ネットワークによって発生する遅延はカウントされません。
** 高度なデータ保護アドオン サービスを使用する場合、ターゲット レイテンシには、ローカル ストレージ アレイとの間の IO 操作のみが含まれます。
** 24 時間の間に、少なくとも 10 個の有効なメトリックが利用可能である必要があります。そうでない場合、メトリックは破棄されます。
** ストレージ アレイ上の 1 つ以上のボリュームに有効な AQoS ポリシーが適用されていない場合、他のボリュームで使用可能な IOPS の数に影響が出る可能性があります。また、 NetApp は、そのストレージ アレイでのパフォーマンス レベルの目標設定や達成については責任を負いません。
** FabricPool構成では、要求されたすべてのデータ ブロックがFabricPoolソース (ホット) ストレージ上にあり、ソース ストレージがSnapMirror同期関係にない場合に、パフォーマンス レベルが適用されます。






== パフォーマンスサービスレベル

ONTAPフラッシュ ストレージ アレイがサポートするすべてのパフォーマンス サービス レベルはパフォーマンス SLO の対象となり、次のターゲット レイテンシを満たすことが保証されます。

|===


| *サービスレベル* | Extreme | Premium | パフォーマンス | Standard 


 a| 
*目標90パーセンタイルレイテンシ*
| <1ミリ秒 | <2ミリ秒 | 4ミリ秒未満 | 4ミリ秒未満 
|===
パフォーマンスサービスレベルのレイテンシ要件の詳細については、以下を参照してください。link:../concepts/service-levels.html["Keystoneのパフォーマンスサービスレベル"] 。



== サービスクレジット


NOTE: SLA と保証は指名ベースで利用可能です。

NetApp はパフォーマンスの低下に対してサービス クレジットを発行します。

|===


| *パフォーマンスしきい値* | *サービスクレジット* 


 a| 
90 パーセンタイルレイテンシ > 目標レイテンシ
| 発生暦日ごとに3％ 
|===


=== サービスクレジットの計算

サービス クレジットは次の計算式を使用して決定されます。

サービスクレジット = (影響を受ける容量 / コミットされた総容量) × 容量料金 × 影響を受ける日数 × クレジット率

各値の意味は次のとおりです。

* *影響を受ける容量*: 影響を受ける保存容量の量。
* *合計コミット容量*: Keystone注文のパフォーマンス サービス レベルのコミット容量。
* *容量料金*: Keystone の注文に従って影響を受けるパフォーマンス レベルの料金。
* *影響を受ける日数*: 影響を受ける暦日数。
* *クレジット率*: サービスクレジットの所定の割合。


*例*

次の例は、サービス クレジットの計算方法を示しています。

|===


| *サービスレベル* | *影響を受ける容量* | *合計コミット容量* | *収容人数料金* | *影響を受ける暦日* | *クレジット率* 


 a| 
Extreme
| 10ティブ | 50ティブ | 1000ドル | 2 | 3% 
|===
計算式：サービスクレジット = ( 10 / 50 ) X 1000 x 2 x 0.03

計算によると、サービスクレジットは 12 ドルになります。



=== サービスクレジットリクエスト

SLA 違反が検出された場合は、 NetApp Keystoneサポートで優先度 3 (P3) のサポート チケットを開きます。

* 以下の詳細が必要です:
+
.. Keystoneサブスクリプション番号
.. ボリュームとストレージコントローラの詳細
.. 問題の場所、時間、日付、および説明
.. 遅延検出の計算された時間
.. 測定ツールと方法
.. その他の該当する文書


* NetApp Keystoneサポートで開かれた P3 チケットの詳細を、以下に示すように Excel シートに入力します。
+
image:sla-breach.png["Excelシートテンプレート"]



[NOTE]
====
* サービス クレジット リクエストは、 NetApp Keystoneサポートが違反を検証してから 6 週間以内に開始する必要があります。すべてのサービス クレジットはNetAppによって確認および承認される必要があります。
* サービス クレジットは将来の請求書に適用される場合があります。サービス クレジットは、期限切れのKeystoneサブスクリプションには適用されません。詳細については、link:../concepts/gssc.html["NetApp Keystoneサポート"] 。


====